<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spotlight on You: A Song Request</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Load React, ReactDOM, and Babel -->
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
        /* Custom Fonts and Animations */
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@600;800&family=Montserrat:wght@400;700&display=swap');

        .font-title { font-family: 'Poppins', sans-serif; }
        .font-body { font-family: 'Montserrat', sans-serif; }

        /* Stage Spotlight Effect (Slowed from 4s to 6s) */
        @keyframes pulse-light {
          0%, 100% { box-shadow: 0 0 20px rgba(255, 223, 0, 0.5), 0 0 40px rgba(100, 100, 255, 0.4); }
          50% { box-shadow: 0 0 30px rgba(255, 223, 0, 0.8), 0 0 60px rgba(100, 100, 255, 0.6); }
        }
        .stage-card {
            animation: pulse-light 6s infinite alternate;
        }

        /* Microphone float (Slowed from 3s to 5s) */
        @keyframes float {
          0%, 100% { transform: translateY(0px); }
          50% { transform: translateY(-15px); }
        }
        .animate-float {
            animation: float 5s ease-in-out infinite;
        }
        
        /* Blob/Orb animation for background (Slowed from 15s to 25s) */
        @keyframes blob {
          0%, 100% { transform: scale(1) translate(0, 0); }
          30% { transform: scale(1.1) translate(30px, -50px); }
          60% { transform: scale(0.9) translate(-40px, 30px); }
        }
        .animate-blob {
            animation: blob 25s infinite alternate;
        }

        /* Floating notes animation */
        @keyframes notes-float {
          0% { transform: translateY(0) rotate(0deg); opacity: 0; }
          10% { opacity: 0.8; }
          90% { transform: translateY(-100vh) rotate(360deg); opacity: 0.1; }
          100% { opacity: 0; }
        }

        .floating-note {
          position: absolute;
          bottom: -10%;
          animation: notes-float var(--duration) linear infinite;
          z-index: 0;
        }
        
        /* Custom screen transition (Slowed from 0.8s to 1.5s) */
        @keyframes screen-fade-in {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-screen-in {
            animation: screen-fade-in 1.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) forwards; /* Smooth cubic ease */
        }
        
        /* Wobble for the final button (Slowed from 0.5s to 1s) */
        @keyframes wobble {
            0%, 100% { transform: scale(1); }
            25% { transform: scale(1.03) rotate(1deg); }
            75% { transform: scale(1.03) rotate(-1deg); }
        }
        .animate-wobble-hover:hover {
            animation: wobble 1s infinite alternate;
        }
        
        /* Staggered Fall-in Animation for Reasons (Slowed from 0.6s to 1s) */
        @keyframes fall-in {
            from { opacity: 0; transform: translateY(-50px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fall-in {
            animation: fall-in 1s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards; /* Overshoot ease for bouncy feel */
            opacity: 0; /* Start hidden */
        }
        /* Adjusted stagger delays */
        .fall-delay-1 { animation-delay: 0s; }
        .fall-delay-2 { animation-delay: 0.3s; }
        .fall-delay-3 { animation-delay: 0.6s; }


        /* Ensure full screen layout */
        body, #root {
            margin: 0;
            padding: 0;
            width: 100vw;
            height: 100vh;
        }
    </style>
</head>
<body>

<div id="root"></div>

<script type="text/babel">
const { useState, useEffect, useRef } = React;

// --- Icon Definitions (SVG replacements) ---

const Mic = (props) => (
    <svg xmlns="http://www.w3.org/2000/svg" width={props.size || 24} height={props.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}>
        <path d="M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z"/><path d="M19 10v2a7 7 0 0 1-14 0v-2"/><line x1="12" x2="12" y1="19" y2="22"/>
    </svg>
);

const Music = (props) => (
    <svg xmlns="http://www.w3.org/2000/svg" width={props.size || 24} height={props.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}>
        <path d="M9 18V5l12-2v13"/><circle cx="6" cy="18" r="3"/><circle cx="18" cy="16" r="3"/>
    </svg>
);

const ArrowRight = (props) => (
    <svg xmlns="http://www.w3.org/2000/svg" width={props.size || 24} height={props.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}>
        <path d="M5 12h14"/><path d="m12 5 7 7-7 7"/>
    </svg>
);
const Volume2 = (props) => (
    <svg xmlns="http://www.w3.org/2000/svg" width={props.size || 24} height={props.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}>
        <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/><path d="M15.54 8.46a5 5 0 0 1 0 7.07"/><path d="M19.07 4.93a10 10 0 0 1 0 14.14"/>
    </svg>
);
const VolumeX = (props) => (
    <svg xmlns="http://www.w3.org/2000/svg" width={props.size || 24} height={props.size || 24} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props}>
        <path d="M11 5L6 9H2V15H6L11 19V5z"/><line x1="22" x2="16" y1="9" y2="15"/><line x1="16" x2="22" y1="9" y2="15"/>
    </svg>
);


// --- Assets ---
const ASSETS = {
  // Intro: Cat with Microphone (Singing Theme)
  intro: "https://tenor.com/en-IN/view/music-bussin-gif-24924996", 
  // Ask: Music Notes/Record Player
  ask: "https://tenor.com/en-IN/view/manja-gif-22885016",
  // Music: UPDATED to a reliably sourced SoundHelix Song 5 (Uplifting)
  music: "https://cdn.jumpshare.com/download/Hl458Uw3PeTHeE6HlDEfm9Rnh3zSQuvTjqmO1nRD6HbMhAU_KucImVqZvTFhF6GTvVlEgy42gmsRu4Nb1QiPsKb5RW6_a-qVqU5Z46JHJVg"
};

// --- Helper Components ---

const FloatingNotes = () => {
  const notes = Array.from({ length: 15 }).map((_, i) => ({
    id: i,
    left: Math.random() * 100 + "%",
    delay: Math.random() * 10 + "s",
    size: Math.random() * 15 + 10 + "px",
    duration: Math.random() * 5 + 8 + "s",
    color: Math.random() > 0.5 ? "#fde047" : "#a78bfa" 
  }));

  return (
    <div className="absolute inset-0 overflow-hidden pointer-events-none">
      {notes.map((note) => (
        <div
          key={note.id}
          className="floating-note text-xl"
          style={{
            left: note.left,
            animationDelay: note.delay,
            fontSize: note.size,
            animationDuration: note.duration,
            color: note.color,
            animationName: 'notes-float' 
          }}
        >
          {/* Music Note Emoji */}
          üé∂
        </div>
      ))}
    </div>
  );
};

// Updated Card component to handle screen transition animation
const Card = ({ children, className = "", animate = true }) => (
  <div 
    className={`bg-white/95 backdrop-blur-sm rounded-3xl shadow-2xl p-8 max-w-sm w-full mx-4 border-4 border-yellow-300/50 relative z-10 transition-all duration-700 ease-out transform ${className} stage-card ${animate ? 'animate-screen-in' : ''}`}
  >
    {children}
  </div>
);

// Screen 1: Intro with Cat Singer GIF
const IntroScreen = ({ onNext }) => (
  <Card className="text-center space-y-8 py-10 bg-gradient-to-br from-indigo-50 to-purple-50">
    <div className="flex justify-center relative">
      <div className="absolute inset-0 bg-yellow-100 blur-2xl opacity-20 rounded-full animate-pulse" />
      <img src={ASSETS.intro} alt="Cat Singing into Mic" className="w-32 h-32 object-contain relative z-10 drop-shadow-lg animate-float" />
    </div>
    
    <div>
      <h1 className="font-title text-5xl text-purple-700 mb-3 drop-shadow-sm font-extrabold">Spotlight on You!</h1>
      <p className="font-body text-gray-700 text-lg leading-relaxed font-medium">
        Uhmm its beeeeeen tooo manyy days ullu ib saY YES OR NO  üò≠üò≠     
      </p>
    </div>

    <button 
      onClick={onNext}
      className="bg-purple-600 text-white font-title font-bold py-3 px-10 rounded-full shadow-lg hover:bg-purple-700 hover:shadow-xl hover:scale-105 transition-all duration-700 flex items-center gap-2 mx-auto ring-4 ring-purple-300/50"
    >
      PLEASE SEE <ArrowRight size={18} />
    </button>
  </Card>
);

// Screen 2: Gentle Ask
const RequestIntroScreen = ({ onNext }) => (
  <Card className="text-center space-y-8 py-10 bg-gradient-to-br from-blue-50 to-indigo-50">
    <div className="flex justify-center">
      <img src={ASSETS.ask} alt="Music Notes" className="w-40 h-40 object-contain drop-shadow-md" />
    </div>
    
    <p className="font-body text-gray-700 text-xl leading-relaxed px-2 font-medium">
      i want it i wanttt itt ‚òπÔ∏èü•∫üëâüëà.
    </p>

    <button 
      onClick={onNext}
      className="bg-yellow-400 text-purple-900 font-title font-bold py-3 px-10 rounded-full shadow-lg hover:shadow-xl hover:scale-105 transition-all duration-700 flex items-center gap-2 mx-auto ring-4 ring-yellow-200"
    >
      may this convince uh <Music size={20} className="stroke-2"/>
    </button>
  </Card>
);

// Screen 3: Interactive Reasons
const ReasonsScreen = ({ onNext }) => {
  const [revealed, setRevealed] = useState([false, false, false]);

  const reasons = [
    { text: "Pleaseee nna ullu.", color: "from-blue-400 to-indigo-400" },
    { text: "Me request ‚òπÔ∏èü•∫üëâüëà its just so good.", color: "from-purple-400 to-pink-400" },
    { text: "this lastt timeeeee .", color: "from-yellow-400 to-orange-400" }
  ];
  
  // Array of delay classes for staggered animation
  const delayClasses = ["fall-delay-1", "fall-delay-2", "fall-delay-3"];

  const handleReveal = (index) => {
    // Only allow click if not already revealed
    if (!revealed[index]) {
        setRevealed(newRevealed => {
            const nextRevealed = [...newRevealed];
            nextRevealed[index] = true;
            return nextRevealed;
        });
    }
  };

  const allRevealed = revealed.every(Boolean);

  return (
    <Card className="text-center space-y-6 bg-gradient-to-br from-gray-50 to-white">
      <div className="mb-2">
        <h2 className="font-title text-4xl text-purple-600 mb-2">Three Reasons You Should Sing</h2>
        <p className="font-body text-xs text-yellow-500 uppercase tracking-widest font-bold">Tap each mic to listen</p>
      </div>

      <div className="space-y-4">
        {reasons.map((reason, idx) => {
          const isRevealed = revealed[idx];
          return (
            <button
              key={idx}
              onClick={() => handleReveal(idx)}
              disabled={isRevealed}
              className={`w-full p-5 rounded-2xl transition-all duration-700 transform border-2 animate-fall-in ${delayClasses[idx]} relative overflow-hidden h-24 ${ // Fixed height to prevent layout shift during transition
                isRevealed 
                  ? "bg-white border-blue-100 shadow-sm cursor-default" 
                  : `bg-gradient-to-r ${reason.color} border-transparent shadow-lg hover:scale-[1.02] active:scale-95 cursor-pointer`
              }`}
            >
              
              {/* Front Face: The Mic (Falling/Disintegrating Effect) */}
              <div className={`
                absolute inset-0 flex items-center justify-center transition-all duration-800 
                ${isRevealed 
                  ? 'opacity-0 scale-75 -translate-y-full rotate-12' // Mic drops out (Slower duration-800)
                  : 'opacity-100 scale-100 translate-y-0 rotate-0' // Normal state
                }
              `}>
                <Mic className="w-8 h-8 text-white mx-auto animate-pulse" fill="currentColor" />
              </div>
              
              {/* Back Face: The Text (Fading In) */}
              <div className={`
                absolute inset-0 flex items-center justify-center p-5 transition-opacity duration-800
                ${isRevealed ? 'opacity-100' : 'opacity-0'}
              `}>
                <p className="font-body text-gray-700 text-sm font-semibold">{reason.text}</p>
              </div>
            </button>
          );
        })}
      </div>

      <div className={`transition-all duration-1000 h-16 flex items-center justify-center ${allRevealed ? "opacity-100 translate-y-0" : "opacity-0 translate-y-4 pointer-events-none"}`}>
        <button 
          onClick={onNext}
          className="bg-yellow-400 text-purple-900 font-title font-bold py-3 px-8 rounded-full shadow-lg hover:bg-yellow-500 hover:scale-105 transition-all duration-700 flex items-center gap-2"
        >
          Final Request <ArrowRight size={20} />
        </button>
      </div>
    </Card>
  );
};

// Screen 4: Final Request/Message
const FinalScreen = () => {
  const [isOpen, setIsOpen] = useState(false);
  
  // The persistent song request message
  const finalRequestText = `last time did for snowman.... now requesting heerrrr. 
  
  I know tym ni milra/ mnn ni hotaa gaane ka kbhi but u leave me no choice!ü•±üòæ
  
  üé∂ Requesting deeply, politely and hope so last time ,, heer!!,, [please tell alsoüò≠üò≠ kii am i pareshaning too much? tell review also ;/ ]`;
  
  // Prepare text for display
  const displayRequestText = finalRequestText.split('\n').map((p, i) => p.trim() ? <p key={i} className="mb-4">{p}</p> : null);

  return (
    <div className="w-full max-w-sm px-4 h-full flex items-center justify-center">
      {/* Initial View: Spotlight Card (Slowed from duration-700 to duration-1000) */}
      <div className={`transition-all duration-1000 absolute w-full max-w-sm ${isOpen ? "opacity-0 pointer-events-none scale-90" : "opacity-100 scale-100"}`}>
        <Card className="text-center space-y-6 pt-8 pb-10 bg-gradient-to-br from-indigo-900 to-black text-white border-purple-500/50">
          <h2 className="font-title text-4xl text-yellow-400">The Ultimate Request</h2>
          
          {/* Visual Focus: Microphone */}
          <div className="flex justify-center py-4">
             <Mic size={96} className="text-yellow-300 drop-shadow-xl animate-float" />
          </div>
          
          <div className="space-y-4 pt-2">
            <p className="font-body text-xs text-purple-300 uppercase tracking-widest font-semibold">‚Üì Tap to read the plea ‚Üì</p>
            
            <button 
              onClick={() => setIsOpen(true)}
              className="w-full bg-white/10 border-2 border-purple-400/50 rounded-xl p-8 shadow-lg hover:shadow-2xl hover:border-yellow-400 transform transition-all duration-700 hover:-translate-y-1 group relative overflow-hidden animate-wobble-hover"
            >
              <div className="absolute inset-0 bg-yellow-400 opacity-0 group-hover:opacity-10 transition-opacity" />
              <div className="relative z-10">
                <h3 className="font-title text-5xl text-yellow-400 mb-2">SING!</h3>
                <div className="h-1 w-12 bg-purple-400 mx-auto rounded-full" />
              </div>
              <Music size={20} className="absolute top-3 right-3 text-purple-300 animate-pulse" />
              <Music size={16} className="absolute bottom-3 left-3 text-purple-300 animate-pulse" style={{ animationDelay: '0.5s' }} />
            </button>
          </div>
        </Card>
      </div>

      {/* Expanded Letter View (Slowed from duration-700 to duration-1000) */}
      <div className={`transition-all duration-1000 absolute inset-0 flex items-center justify-center p-4 z-20 ${isOpen ? "opacity-100 scale-100" : "opacity-0 pointer-events-none scale-110"}`}>
        <div className="bg-white/95 backdrop-blur-xl rounded-[2rem] shadow-2xl w-full max-w-sm max-h-[85vh] overflow-y-auto p-8 border-4 border-purple-500 relative">
          <button 
            onClick={() => setIsOpen(false)}
            className="absolute top-4 right-4 bg-gray-100 text-gray-400 hover:text-gray-600 hover:bg-gray-200 rounded-full p-2 transition-colors"
          >
             <VolumeX size={16} className="rotate-45" />
          </button>
          
          <div className="text-center mb-6 mt-2">
            <h2 className="font-title text-5xl text-purple-600 mb-3">My Song Request</h2>
            <div className="h-1.5 w-20 bg-yellow-400 mx-auto rounded-full" />
          </div>

          <div className="font-body text-gray-700 leading-relaxed space-y-4 text-base text-center">
            {displayRequestText}
            
            <div className="py-4">
               <Music size={40} className="text-purple-400 mx-auto animate-bounce" />
            </div>
            
            <p className="font-bold text-yellow-600 text-xl pt-2 font-title">
              Just one song! Please!
            </p>
          </div>
        </div>
      </div>
    </div>
  );
};

// --- Main App ---

function App() {
  const [step, setStep] = useState(0);
  const [isPlaying, setIsPlaying] = useState(false);
  const audioRef = useRef(null);

  // Function to initialize and play music only after user interaction
  const toggleMusic = () => {
    if (isPlaying) {
      audioRef.current.pause();
    } else {
      if (audioRef.current) {
          audioRef.current.play().catch(e => console.log("Audio play failed, user interaction may be required."));
      }
    }
    setIsPlaying(!isPlaying);
  };

  const nextStep = () => setStep(s => s + 1);

  return (
    <div className="relative w-full h-screen bg-gradient-to-br from-indigo-900 via-purple-900 to-black overflow-hidden flex items-center justify-center font-sans">
      
      {/* Background Elements */}
      <FloatingNotes />
      <div className="absolute top-0 left-0 w-full h-full opacity-30 pointer-events-none" style={{ backgroundImage: "url('https://www.transparenttextures.com/patterns/clean-textile.png')" }} />
      
      {/* Gradient Orbs for vibe (Spotlight simulation) */}
      <div className="absolute top-[-50%] left-[20%] w-full h-96 bg-yellow-400 rounded-full mix-blend-screen filter blur-3xl opacity-20 animate-blob" />
      <div className="absolute bottom-[-40%] right-[-10%] w-96 h-96 bg-purple-500 rounded-full mix-blend-screen filter blur-3xl opacity-20 animate-blob" style={{ animationDelay: '2s' }} />

      {/* Music Player */}
      <div className="absolute top-6 right-6 z-50">
        <button 
          onClick={toggleMusic}
          className="bg-white/10 backdrop-blur-md p-3 rounded-full text-yellow-400 hover:bg-white/20 transition-all shadow-lg ring-1 ring-yellow-400/50"
        >
          {isPlaying ? <Volume2 size={24} /> : <VolumeX size={24} />}
        </button>
        <audio ref={audioRef} src={ASSETS.music} loop />
      </div>

      {/* Main Content Area */}
      <div className="w-full h-full flex items-center justify-center relative z-10">
        {step === 0 && <IntroScreen onNext={nextStep} />}
        {step === 1 && <RequestIntroScreen onNext={nextStep} />}
        {step === 2 && <ReasonsScreen onNext={nextStep} />}
        {/* Final screen does not need the screen-in animation because it contains the internal letter animation */}
        {step === 3 && <FinalScreen animate={false} />} 
      </div>
    </div>
  );
}

// Render the application
ReactDOM.createRoot(document.getElementById('root')).render(<App />);
</script>

</body>

</html>




